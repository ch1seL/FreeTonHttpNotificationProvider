@using Client.Storage
<MudTable Items="@MessageInfos" Dense="true" Hover="true" Bordered="false" Striped="true">
    <ToolBarContent>
        <MudText Typo="Typo.h6">Recived messages: @MessageInfos.Count</MudText>
        <MudSpacer/>
        <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="@OnClearClickCallback">Clear</MudButton>
    </ToolBarContent>
    <HeaderContent>
        <MudTh>Time</MudTh>
        <MudTh>Message</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="Time">@context.DateTime</MudTd>
        <MudTd DataLabel="Message">@context.Message</MudTd>
    </RowTemplate>
    <PagerContent>
        <MudTablePager/>
    </PagerContent>
</MudTable>

@code
{
    [Parameter]
    public IReadOnlyCollection<MessageInfo> MessageInfos { get; set; }

    [Parameter]
    public EventCallback UpdateMessagesEvent { get; set; }

    [Parameter]
    public EventCallback<MouseEventArgs> OnClearClickCallback { get; set; }
}